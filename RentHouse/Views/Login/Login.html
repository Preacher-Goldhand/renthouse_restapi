<!doctype html>
<html>

<head>
    <title>Januszex-Express Login</title>
    <style>

        .center {
            /* display: flex; */
            float: left;
            /* width: 69%; */
            /* height: 600px; */
            background-color: #fbefbf;
            padding-left: 20px;
            padding-right: 20px;
            border-radius: 20px;
        }

        body {
            background-color: #ffffe8;
            font-family: Verdana, Geneva, Tahoma, sans-serif;

        }

        .navcontainer {
            cursor: pointer;
            /* width: 250px; */
            display: flex;
            /* height: 250px; */
            align-items: end;
        }

        .loginbutton{
            width: 140px;
            margin: 10px;
            color: #676666;
            font-weight: bolder;
            font-size: larger;
            border: 3px solid #676666;
            border-radius: 4px;
            background: #fffbdae8;
        }
        .rest{
            display: flex;
            justify-content: center; 
        }
        .loginform{
            display: flex;
            flex-direction: column;
            padding: 60px;
        }
    </style>
</head>

<body>
    <div class="rest">
        <div class="center">
            <form class="loginform" action="/User/Login"> 
                <label for="login">Login</label>                
                <input name="login" type="text"></input> 
                <label for="pass">Haslo</label>
                <input name="pass" type="password"></input>
                <input name="sumbmit" type="submit" value="Zaloguj"></input>
            </form>
        </div>
    </div>
</body>

<script type="text/javascript">
    var id = 1;
    const photoelement = document.getElementById("photo");

    
    var xttp;
    function navForward() {
        var asdf = '/Machine/GetMachineDetails/' + id;
        console.log("forward");
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                xttp = xhttp.responseText;
                var res = JSON.parse(xttp);
                console.log(res);
            // Typical action to be performed when the document is ready:
            document.getElementById("section1").innerHTML = res.name;
            document.getElementById("section2").innerHTML = res.descrition;

            
            const img = document.createElement('img'); 
            var photoid = id-1;           
            img.src = "/photos/"+photoid+".jpg";
            photoelement.innerHTML="";
            photoelement.appendChild(img);
           
            }
            else if(this.status == 404){
                id = 1; 
                navForward();
            }
        };
        xhttp.open("GET", asdf, true);
        
        xhttp.send();       
        id+=1; 
    }


    function navBack() {
        var asdf = '/Machine/GetMachineDetails/' + id;
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                xttp = xhttp.responseText;
                var res = JSON.parse(xttp);
            // Typical action to be performed when the document is ready:
            document.getElementById("section1").innerHTML = res.name;
            document.getElementById("section2").innerHTML = res.descrition;
           
            const img = document.createElement('img');  
            var photoid = id-1;           
            img.src = "/photos/"+photoid+".jpg";          
            
            photoelement.innerHTML="";
            photoelement.appendChild(img);

            }
            else if(this.status == 404){
                id = 12; 
                navBack();
            }
        };
        xhttp.open("GET", asdf, true);
        xhttp.send();
        
        console.log("back");
        id=id-1;
    }
    // navBack(); navForward();
</script>

</html>